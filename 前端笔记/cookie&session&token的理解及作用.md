
# cookie 、session和token的产生以及作用

## cookie 、session和token是如何产生的
  cookie、session和token都是首次登录的时候由服务端产生的， 举个例子：当你首次访问服务端时，可以查看请求头，会发现没有cookie的信息， 但是当你第二次请求同一个域的时候， 就会发现请求头有带cookie等信息

## Cookie是什么
  简单来讲就是客户端请求服务器，如果服务器需要记录该用户状态，就使用response向客户端发送一个cookie。客户端会把cookie保存起来。当浏览器再请求该网站时，浏览器会把cookie带过去给服务器。服务器检查该cookie，以此来辨认用户状态。服务器还可以根据需要修改cookie的内容。 就是说让用户每次访问的时候告诉你它叫什么，这就叫做cookie

## Session是什么
  简单的来讲就是一次会话 会话的开始就是你访问网站开始到你离开这个网站结束 这就是一个会话期 可以用来识别用户并保持用户信息 比如说我们登录网站 但是怎么知道用户是否已经登录了呢 因为有session的存在 所以我们就会保存用户的登录信息 就是说在服务器端保存用户的信息的，给他一个id，让他下次用id访问。这叫做session

## Token是什么
  Token其实就是令牌 也是一种信息的验证，比如说你打开了一个表单 但是怎么知道就是在对应的订单页面提交的 所以这个时候 就在这个订单页放入一个加密的信息，只有真正打开了订单页才能知道，提交的时候将这个信息返回来。这个东西，叫做token

## Cookie、session和token的区别
  1.cookie是不加密的，但服务端可以对cookie中保存的内容进行加密，但我们可以获取浏览器中的cookie的内容，如果知道加密规则等，可以对内容进行信息的篡改,所以是很不安全的
  2.session是由服务端产生的，服务端会针对同一个浏览器生成同一个session，session是保存在服务端的，每个session都有唯一的id，叫做   jessionId，该jessionId会保存在cookie中，然后通过cookie将信息携带到客户端，每次访问都得携带这个jessionId，如果服务发现这个 jessionId已经存在了 ， 就能从session中获取这个用户曾经保存的一些信息，session 的运行依赖 session id，而 session id 是存在 cookie 中的所以如果cookie不能用的情况下 ， session也是无效的 ， 比如浏览器禁用了cookie等。 3.cookie可设置有效期，过期的cookie浏览器会自动让其失效。
  3.session一般关闭浏览器就失效。但session也可以设置超时时间，比如30分钟，则用户在30分钟内一直无请求，即使浏览器未关闭session也失效了
  4.token后端是不需要记录任何什么东西 每次都是一种无状态的请求，但是sessionid就是一连串的字符串 ，需要去后台进行检索匹配，万一服务器重启导致内存里的 session 没了呢？万一 redis 服务器挂了呢？所以说token的验证比session高

## 但是token又有什么作用呢
  举个例子：一般用于单点登录，例如如果你在一个浏览器登录了淘宝 ，但是又打开新的浏览器， 输入淘宝登录 ， 但是这种的话会发现要重新登录 ， 如果是利用token验证的话 ，且是通过url将tonken作为参数传过去的话， 就实现单点登录了，，就比如说可以做到在谷歌登录了淘宝，然后打开火狐，如果是同一url，该url包含相同的token，那么就可以不用重复登录了。

## 有cookie为什么还要有session
  是由于网络中http协议造成的，因为http本身是无状态协议，这样，无法确定你的本次请求和上次请求是不是你发送的。如果要进行类似登陆相关的操就无法完成

## 有session为什么还要有token
  首先，session的存储是需要空间的，其次，session的传递一般都是通过cookie来传递的，或者url重写的方式；而token在服务器是可以不需要存储用户的信息的，而token的传递方式也不限于cookie传递，当然，token也是可以保存起来的（可以保存在服务端也可以保存在cookie中）；