### 架构组2018.6月年度回顾

** 简介**

新架构组于2017年4月开始组建，以主要负责人入职（曾琦7月+钟良文7月）为起点回顾

** 定位**

优先从技术角度提升公司开发测试运维效率及体验。
同时负责帮助业务组解决疑难技术问题，为业务组提供架构咨询及相关产出培训。
此外从业务角度，提出并实施更贴合业务发展需求的架构方案。

**核心价值观**

`高性能`、`可靠`、`可扩展`、`可伸缩`、`安全`、`易维护`、`易定制`、`易测试`、`用户体验`

###前端架构组###

 *时任主要负责人：钟良文（2017.7.4-2018.04.09）*

####部门时况####

1.开发流程需升级

当时开发模式以全栈式为主，几乎以擅长后端的开发copy UED组产出的JS组件然后修改上线。

2.技术栈需升级

当时前端主要使用的框架主要是`jquery`，`requirejs`,而擅长管理系统开发的`angularjs`已经出到第二版。

#### 改革带来的挑战 ####

1.开发习惯&学习成本

原来习惯全栈式开发的同事对新方法，新技术不熟悉，新技术的涌入反而会降低开发效率，因此决定小范围试点

- 协同使用vue开发
- 仓储(部分)、蜂群、物流相继使用`angular`开发
- 【前端架构组】UPMS管理端使用`angular`开发

2.基础设施及部署问题

- 前端架构组决定使用蚂蚁金服的`ant design（ng版）`快速构建部门自己的前端项目生成器【BangUI】
- 搭建mock工具，如RAP(虽然有些组可能并未使用)

3.缺少专职前端人员

- 前端知识库建设，打造氛围
- 明确前端能力模型
- 招聘面试前端开发人员

#### 后续参与项目 ####

- 开放平台
- 题拔网小程序
- Angular管理后台

#### 后续支援项目 ####

- 公共平台协同
- 大数据ABI
- markerp
- 仓储新库存结构
- 供应链跟单

###后端架构组###

####部门时况####

1.刚刚确定的转JAVA规划

仓储组最先拥有JAVA开发人员，一部分在做问题跟踪系统，一部分在做仓储无纸化

2.JAVA氛围淡，高级人员少

#### 后续工作安排 ####

1.**持续集成**

以前运维发布系统以手工拷贝或者批处理为主，操作繁琐容易出错，因此自动化部署节省人力是提升的方向，
Jenkins在部门内最早应用于仓储ews，之后java项目的持续集成均由架构组负责。

2.**CAS**

与公共平台对接员工信息，对接公司各旧系统。在实施过程中，与OA对接困难重重，
以前的登录逻辑复杂，重构困难，这里走了一路弯路，后改为对接站点容器，由站点容器跳转到OA。
CAS系统选用的新版本(spring boot架构)，官方升级频繁，我们也定期升级，后来增加了企业微信扫码登录。
而后因为有个参数设置不合理而经历过一段不稳定时期。

3.**Silk**

微服务的架构注定了服务碎片化，为了服务间调用方便，统一接口返回格式迫在眉睫，因此诞生了Silk(丝绸之路)

3.**UPMS**

公司系统众多，每套系统拥有一套用户，角色管理规范，UPMS旨在统一用户，角色，权限的管理规范，并且提升业务团队
的开发效率，让他们聚集在业务而非这类基础公共的需求上。

4.**DevOps（Fabric8/k8s）**

我们并不满足于Jenkins自动部署，我们希望开发者可以一键创建项目，项目自动引用需要的包，自动构建，产生质量报告，发布到多个环境
等全自动化开发测试流水线，因此选用了redhat公司开源的`fabric8`，由于当时服务器资源
并不是很充足，最终该项目处于研究阶段

5.**~~开放平台(中止)~~**

微服务架构中比较重要的就是接口网关，我们希望我们的服务可以跨部门，跨公司调用，最初的想法是自己基于zuul开发一套
类似淘宝，腾讯的开放平台，后来由于发现了几款更专业成熟的解决方案中止掉该项目

6.**Gravitee网关**

由Java第二大web框架vert.x开发，事件驱动架构（EDA，类似游戏界erlang），吞吐量极高，项目体系架构清晰全面，于是决定用它作为公司的接口网关，主要由杨达伟维护升级培训。

7.**iSwitch**

部门内很多项目有邮件处理的需求，我们[调研](https://alternativeto.net/software/mailparser-io/)了国外多款邮件处理产品，但此类产品因价值较高没有找到开源的，于是决定自研一套，
目前打算用于财务组

8.**鹰眼**

#### 技术研究及储备 ####

- ElasticSearch
- Greenplum
- Vert.X
- RabbitMQ
- Pinpoint
- Mybatis
- Mycat
- XXL-JOB
- Spring StateMachine

#### 参与咨询项目 ####

- Ceph/S3存储

#### 支援项目 ####

- 广告平台
- 蜂群
- 协同
